{
    "Function": {
        "prefix": "act",
        "body": [
            "act ${1:function_name}(${2:params}) {",
            "    ${3:# function body}",
            "    -> ${4:result}",
            "}"
        ],
        "description": "Create a new function"
    },
    "If Statement": {
        "prefix": "if",
        "body": [
            "if ${1:condition} {",
            "    ${2:# code}",
            "}"
        ],
        "description": "If statement"
    },
    "If-Else Statement": {
        "prefix": "ife",
        "body": [
            "if ${1:condition} {",
            "    ${2:# if true}",
            "} else {",
            "    ${3:# if false}",
            "}"
        ],
        "description": "If-else statement"
    },
    "For Loop": {
        "prefix": "for",
        "body": [
            "for ${1:item} in ${2:items} {",
            "    ${3:# loop body}",
            "}"
        ],
        "description": "For loop"
    },
    "For Range": {
        "prefix": "forr",
        "body": [
            "for ${1:i} in range(${2:start}, ${3:end}) {",
            "    ${4:# loop body}",
            "}"
        ],
        "description": "For loop with range"
    },
    "While Loop": {
        "prefix": "while",
        "body": [
            "while ${1:condition} {",
            "    ${2:# loop body}",
            "}"
        ],
        "description": "While loop"
    },
    "Variable Assignment": {
        "prefix": "var",
        "body": "${1:name} <- ${2:value}",
        "description": "Variable assignment"
    },
    "Print/Say": {
        "prefix": "say",
        "body": "say(${1:\"message\"})",
        "description": "Print output"
    },
    "Print with Variable": {
        "prefix": "sayv",
        "body": "say(\"${1:label}: \" + str(${2:variable}))",
        "description": "Print with variable"
    },
    "List": {
        "prefix": "list",
        "body": "${1:name} <- [${2:items}]",
        "description": "Create a list"
    },
    "Append to List": {
        "prefix": "app",
        "body": "append(${1:list}, ${2:item})",
        "description": "Append to list"
    },
    "Import": {
        "prefix": "imp",
        "body": "import ${1:module}",
        "description": "Import a module"
    },
    "Fibonacci": {
        "prefix": "fib",
        "body": [
            "act fib(n) {",
            "    if n < 2 {",
            "        -> n",
            "    }",
            "    -> fib(n - 1) + fib(n - 2)",
            "}"
        ],
        "description": "Fibonacci function"
    },
    "Main Template": {
        "prefix": "main",
        "body": [
            "# ${1:Project Name}",
            "# Author: ${2:Your Name}",
            "",
            "say(\"Hello, Levython!\")",
            "",
            "${3:# Your code here}",
            ""
        ],
        "description": "Main file template"
    },
    "Keys (Map)": {
        "prefix": "keys",
        "body": "ks <- keys(${1:map})",
        "description": "Get map keys"
    },
    "Process Run": {
        "prefix": "prun",
        "body": "res <- process.run(${1:\"/bin/sh -c \\\"echo hi\\\"\"})",
        "description": "Run a process and capture output"
    },
    "Config Load .env": {
        "prefix": "cenv",
        "body": "config.load_env(${1:\".env\"})",
        "description": "Load .env configuration"
    },
    "Log JSON": {
        "prefix": "logj",
        "body": [
            "log.set_json(yes)",
            "log.set_level(\"info\")",
            "log.info(${1:\"message\"}, ${2:{}})"
        ],
        "description": "Structured JSON logging"
    },
    "Crypto SHA256": {
        "prefix": "sha256",
        "body": "hash <- crypto.sha256(${1:\"data\"})",
        "description": "SHA256 hash"
    },
    "Datetime Now": {
        "prefix": "dt",
        "body": "now <- datetime.now_utc()",
        "description": "Current UTC time"
    },
    "Input Poll Loop": {
        "prefix": "kloop",
        "body": [
            "input.enable_raw()",
            "while yes {",
            "    r <- input.poll()",
            "    if r[\"ok\"] == yes {",
            "        say(\"key=\" + r[\"key\"])",
            "    }",
            "    datetime.sleep_ms(10)",
            "}",
            "input.disable_raw()"
        ],
        "description": "Non-blocking key input loop"
    },
    "HTTP GET": {
        "prefix": "httpget",
        "body": "res <- http.get(${1:\"https://example.com\"})",
        "description": "HTTP GET request"
    },
    "HTTP Server": {
        "prefix": "httpserver",
        "body": [
            "import http_server",
            "",
            "act handler(req) {",
            "    if req[\"path\"] == \"/health\" { -> {\"status\": 200, \"body\": \"ok\"} }",
            "    -> {\"status\": 404, \"body\": \"not found\"}",
            "}",
            "",
            "http_server.serve(\"127.0.0.1\", 18082, handler)"
        ],
        "description": "Minimal HTTP server"
    }
}
